<<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø±Ø§Ø¯Ø§Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø± - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { margin: 0; display: flex; height: 100vh; font-family: 'Segoe UI', Tahoma, sans-serif; background: #eee; }
        
        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        #sidebar { 
            width: 380px; 
            background: white; 
            border-left: 1px solid #ccc; 
            overflow-y: auto; 
            display: flex; 
            flex-direction: column;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .header { background: #d32f2f; color: white; padding: 20px; text-align: center; font-size: 1.2em; font-weight: bold; }

        .news-item { 
            padding: 15px; 
            border-bottom: 1px solid #f0f0f0; 
            cursor: pointer; 
            transition: all 0.2s;
            position: relative;
        }

        .news-item:hover { background: #fff5f5; border-right: 5px solid #d32f2f; }
        
        .news-item h4 { margin: 0 0 5px 0; color: #333; font-size: 1.1em; }
        .news-item p { margin: 0; font-size: 0.9em; color: #666; line-height: 1.4; }
        .news-time { font-size: 0.75em; color: #999; margin-top: 8px; display: block; }

        /* Ø§Ù„Ø®Ø±ÙŠØ·Ø© */
        #map { flex-grow: 1; }

        /* Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª */
        .coords-hint {
            position: absolute; bottom: 10px; left: 10px;
            background: rgba(0,0,0,0.7); color: white;
            padding: 5px 10px; border-radius: 5px; font-size: 12px; z-index: 1000;
        }
    </style>
</head>
<body>

    <div id="sidebar">
        <div class="header">ğŸ”´ Ø§Ù„Ø¨Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ø£Ø­Ø¯Ø§Ø«</div>
        <div id="news-list"></div>
    </div>

    <div id="map"></div>
    <div class="coords-hint" id="coords">Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª</div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // 1. Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
        var map = L.map('map').setView([25.0, 45.0], 5); 
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

        // 2. Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ù…Ø¹ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙˆÙ‚Øª
        const newsData = [
            { id: 1, lat: 24.7136, lng: 46.6753, title: "Ø§Ù„Ø±ÙŠØ§Ø¶", desc: "Ø¨Ø¯Ø¡ ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¤ØªÙ…Ø± Ø§Ù„ØªÙ‚Ù†ÙŠ Ø§Ù„Ø¯ÙˆÙ„ÙŠ Ø¨Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø§Ù„Ù…ÙŠØ©.", time: "Ù…Ù†Ø° 5 Ø¯Ù‚Ø§Ø¦Ù‚" },
            { id: 2, lat: 30.0444, lng: 31.2357, title: "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©", desc: "ØªÙˆÙ‚Ø¹Ø§Øª Ø¨Ù‡Ø·ÙˆÙ„ Ø£Ù…Ø·Ø§Ø± Ø®ÙÙŠÙØ© Ø¹Ù„Ù‰ Ø³ÙˆØ§Ø­Ù„ Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ© ÙˆØ§Ù„Ù‚Ø§Ù‡Ø±Ø©.", time: "Ù…Ù†Ø° 15 Ø¯Ù‚ÙŠÙ‚Ø©" },
            { id: 3, lat: 33.5138, lng: 36.2765, title: "Ø¯Ù…Ø´Ù‚", desc: "ØªØ­Ø³Ù† Ù…Ù„Ø­ÙˆØ¸ ÙÙŠ Ø­Ø±ÙƒØ© Ø§Ù„ØªØ¬Ø§Ø±Ø© Ø¹Ø¨Ø± Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø¨Ø±ÙŠØ©.", time: "Ù…Ù†Ø° Ø³Ø§Ø¹Ø©" }
        ];

        const newsList = document.getElementById('news-list');

        // 3. Ø¯Ø§Ù„Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø®Ø¨Ø§Ø±
        newsData.forEach(news => {
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯Ø¨ÙˆØ³
            var marker = L.marker([news.lat, news.lng]).addTo(map);
            marker.bindPopup(`<b>${news.title}</b><br>${news.desc}<br><small>${news.time}</small>`);

            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†ØµØ± Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
            const item = document.createElement('div');
            item.className = 'news-item';
            item.innerHTML = `
                <h4>${news.title}</h4>
                <p>${news.desc}</p>
                <span class="news-time">ğŸ•’ ${news.time}</span>
            `;
            
            item.onclick = () => {
                map.flyTo([news.lat, news.lng], 12, { duration: 1.5 });
                marker.openPopup();
            };
            
            newsList.appendChild(item);
        });

        // 4. Ù…ÙŠØ²Ø© Ø¥Ø¶Ø§ÙÙŠØ©: Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± ÙŠØ¸Ù‡Ø± Ù„Ùƒ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª (Ù„ØªØ³Ù‡ÙŠÙ„ Ø¥Ø¶Ø§ÙØ© Ø£Ø®Ø¨Ø§Ø± Ø¬Ø¯ÙŠØ¯Ø©)
        map.on('click', function(e) {
            document.getElementById('coords').innerText = `Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª: ${e.latlng.lat.toFixed(4)}, ${e.latlng.lng.toFixed(4)}`;
        });
    </script>
</body>
</html>